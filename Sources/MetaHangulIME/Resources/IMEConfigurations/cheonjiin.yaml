# 천지인 IME 설정
name: "천지인"
identifier: "cheonjiin"

config:
  orderMode: "sequential"
  jamoCommitPolicy: "explicitCommit"
  nonJamoCommitPolicy: "onComplete"
  transitionCommitPolicy: "always"
  displayMode: "modernMultiple"
  supportStandaloneCluster: true

layout:
  # 자음
  "ㄱ": { identifier: "ㄱ", label: "ㄱ" }
  "ㄴ": { identifier: "ㄴ", label: "ㄴ" }
  "ㄷ": { identifier: "ㄷ", label: "ㄷ" }
  "ㅂ": { identifier: "ㅂ", label: "ㅂ" }
  "ㅅ": { identifier: "ㅅ", label: "ㅅ" }
  "ㅈ": { identifier: "ㅈ", label: "ㅈ" }
  "ㅇ": { identifier: "ㅇ", label: "ㅇ" }
  
  # 모음
  "ㅣ": { identifier: "ㅣ", label: "ㅣ" }
  "ㆍ": { identifier: "ㆍ", label: "ㆍ" }
  "ㅡ": { identifier: "ㅡ", label: "ㅡ" }
  
  # 특수문자
  ".,?!": { identifier: ".,?!", label: ".,?!" }

automata:
  choseong:
    transitions:
      # 기본 자음
      - { from: "", input: "ㄱ", to: "ㄱ" }
      - { from: "", input: "ㄴ", to: "ㄴ" }
      - { from: "", input: "ㄷ", to: "ㄷ" }
      - { from: "", input: "ㅂ", to: "ㅂ" }
      - { from: "", input: "ㅅ", to: "ㅅ" }
      - { from: "", input: "ㅈ", to: "ㅈ" }
      - { from: "", input: "ㅇ", to: "ㅇ" }
      
      # ㄱ 조합
      - { from: "ㄱ", input: "ㄱ", to: "ㅋ" }
      - { from: "ㅋ", input: "ㄱ", to: "ㄲ" }
      
      # ㄴ 조합
      - { from: "ㄴ", input: "ㄴ", to: "ㄹ" }
      
      # ㄷ 조합
      - { from: "ㄷ", input: "ㄷ", to: "ㅌ" }
      - { from: "ㅌ", input: "ㄷ", to: "ㄸ" }
      
      # ㅂ 조합
      - { from: "ㅂ", input: "ㅂ", to: "ㅍ" }
      - { from: "ㅍ", input: "ㅂ", to: "ㅃ" }
      
      # ㅅ 조합
      - { from: "ㅅ", input: "ㅅ", to: "ㅎ" }
      - { from: "ㅎ", input: "ㅅ", to: "ㅆ" }
      
      # ㅈ 조합
      - { from: "ㅈ", input: "ㅈ", to: "ㅊ" }
      - { from: "ㅊ", input: "ㅈ", to: "ㅉ" }
      
      # ㅇ 조합
      - { from: "ㅇ", input: "ㅇ", to: "ㅁ" }
    
    display:
      "ㄱ": "\u1100"  # ᄀ
      "ㄲ": "\u1101"  # ᄁ
      "ㄴ": "\u1102"  # ᄂ
      "ㄷ": "\u1103"  # ᄃ
      "ㄸ": "\u1104"  # ᄄ
      "ㄹ": "\u1105"  # ᄅ
      "ㅁ": "\u1106"  # ᄆ
      "ㅂ": "\u1107"  # ᄇ
      "ㅃ": "\u1108"  # ᄈ
      "ㅅ": "\u1109"  # ᄉ
      "ㅆ": "\u110A"  # ᄊ
      "ㅇ": "\u110B"  # ᄋ
      "ㅈ": "\u110C"  # ᄌ
      "ㅉ": "\u110D"  # ᄍ
      "ㅊ": "\u110E"  # ᄎ
      "ㅋ": "\u110F"  # ᄏ
      "ㅌ": "\u1110"  # ᄐ
      "ㅍ": "\u1111"  # ᄑ
      "ㅎ": "\u1112"  # ᄒ
  
  jungseong:
    transitions:
      # 기본 모음
      - { from: "", input: "ㅣ", to: "ㅣ" }
      - { from: "", input: "ㆍ", to: "ㆍ" }
      - { from: "", input: "ㅡ", to: "ㅡ" }
      
      # ㆍ 조합
      - { from: "ㆍ", input: "ㆍ", to: "ᆢ" }
      
      # ㅣ + ㆍ = ㅏ
      - { from: "ㅣ", input: "ㆍ", to: "ㅏ" }
      - { from: "ㅏ", input: "ㆍ", to: "ㅑ" }
      
      # ㆍ + ㅣ = ㅓ
      - { from: "ㆍ", input: "ㅣ", to: "ㅓ" }
      - { from: "ᆢ", input: "ㅣ", to: "ㅕ" }
      
      # ㆍ + ㅡ = ㅗ
      - { from: "ㆍ", input: "ㅡ", to: "ㅗ" }
      - { from: "ᆢ", input: "ㅡ", to: "ㅛ" }
      
      # ㅡ + ㆍ = ㅜ
      - { from: "ㅡ", input: "ㆍ", to: "ㅜ" }
      - { from: "ㅜ", input: "ㆍ", to: "ㅠ" }
      
      # 복합 모음
      - { from: "ㅏ", input: "ㅣ", to: "ㅐ" }
      - { from: "ㅑ", input: "ㅣ", to: "ㅒ" }
      - { from: "ㅓ", input: "ㅣ", to: "ㅔ" }
      - { from: "ㅕ", input: "ㅣ", to: "ㅖ" }
      - { from: "ㅗ", input: "ㅣ", to: "ㅚ" }
      - { from: "ㅚ", input: "ㆍ", to: "ㅘ" }
      - { from: "ㅘ", input: "ㅣ", to: "ㅙ" }
      - { from: "ㅠ", input: "ㅣ", to: "ㅝ" }
      - { from: "ㅝ", input: "ㅣ", to: "ㅞ" }
      - { from: "ㅜ", input: "ㅣ", to: "ㅟ" }
      - { from: "ㅡ", input: "ㅣ", to: "ㅢ" }
    
    display:
      "ㅣ": "\u1175"  # ᅵ
      "ㆍ": "\u119E"  # ᆞ
      "ᆢ": "\u11A2"  # ᆢ
      "ㅡ": "\u1173"  # ᅳ
      "ㅏ": "\u1161"  # ᅡ
      "ㅑ": "\u1163"  # ᅣ
      "ㅓ": "\u1165"  # ᅥ
      "ㅕ": "\u1167"  # ᅧ
      "ㅗ": "\u1169"  # ᅩ
      "ㅛ": "\u116D"  # ᅭ
      "ㅜ": "\u116E"  # ᅮ
      "ㅠ": "\u1172"  # ᅲ
      "ㅐ": "\u1162"  # ᅢ
      "ㅒ": "\u1164"  # ᅤ
      "ㅔ": "\u1166"  # ᅦ
      "ㅖ": "\u1168"  # ᅨ
      "ㅚ": "\u116C"  # ᅬ
      "ㅘ": "\u116A"  # ᅪ
      "ㅙ": "\u116B"  # ᅫ
      "ㅝ": "\u116F"  # ᅯ
      "ㅞ": "\u1170"  # ᅰ
      "ㅟ": "\u1171"  # ᅱ
      "ㅢ": "\u1174"  # ᅴ
  
  jongseong:
    transitions:
      # 기본 자음
      - { from: "", input: "ㄱ", to: "ㄱ" }
      - { from: "", input: "ㄴ", to: "ㄴ" }
      - { from: "", input: "ㄷ", to: "ㄷ" }
      - { from: "", input: "ㅂ", to: "ㅂ" }
      - { from: "", input: "ㅅ", to: "ㅅ" }
      - { from: "", input: "ㅈ", to: "ㅈ" }
      - { from: "", input: "ㅇ", to: "ㅇ" }
      
      # 단일 자음 조합
      - { from: "ㄱ", input: "ㄱ", to: "ㅋ" }
      - { from: "ㅋ", input: "ㄱ", to: "ㄲ" }
      - { from: "ㄴ", input: "ㄴ", to: "ㄹ" }
      - { from: "ㄷ", input: "ㄷ", to: "ㅌ" }
      - { from: "ㅌ", input: "ㄷ", to: "ㄸ" }
      - { from: "ㅂ", input: "ㅂ", to: "ㅍ" }
      - { from: "ㅍ", input: "ㅂ", to: "ㅃ" }
      - { from: "ㅅ", input: "ㅅ", to: "ㅎ" }
      - { from: "ㅎ", input: "ㅅ", to: "ㅆ" }
      - { from: "ㅈ", input: "ㅈ", to: "ㅊ" }
      - { from: "ㅊ", input: "ㅈ", to: "ㅉ" }
      - { from: "ㅇ", input: "ㅇ", to: "ㅁ" }
      
      # 겹자음
      - { from: "ㄱ", input: "ㅅ", to: "ㄳ" }
      - { from: "ㄴ", input: "ㅈ", to: "ㄵ" }
      - { from: "ㄴ", input: "ㅅ", to: "ㄴㅅ" }
      - { from: "ㄴㅅ", input: "ㅅ", to: "ㅀ" }
      - { from: "ㄹ", input: "ㄱ", to: "ㄺ" }
      - { from: "ㄹ", input: "ㅇ", to: "ㄹㅇ" }
      - { from: "ㄹㅇ", input: "ㅇ", to: "ㄻ" }
      - { from: "ㄹ", input: "ㅂ", to: "ㄼ" }
      - { from: "ㄹ", input: "ㅅ", to: "ㄽ" }
      - { from: "ㄹ", input: "ㄷ", to: "ㄹㄷ" }
      - { from: "ㄹㄷ", input: "ㄷ", to: "ㄾ" }
      - { from: "ㄼ", input: "ㅂ", to: "ㄿ" }
      - { from: "ㄽ", input: "ㅅ", to: "ㅀ" }
      - { from: "ㅂ", input: "ㅅ", to: "ㅄ" }
    
    display:
      "ㄱ": "\u11A8"  # ᆨ
      "ㄲ": "\u11A9"  # ᆩ
      "ㄳ": "\u11AA"  # ᆪ
      "ㄴ": "\u11AB"  # ᆫ
      "ㄵ": "\u11AC"  # ᆬ
      "ㅀ": "\u11AD"  # ᆭ
      "ㄷ": "\u11AE"  # ᆮ
      "ㄹ": "\u11AF"  # ᆯ
      "ㄺ": "\u11B0"  # ᆰ
      "ㄻ": "\u11B1"  # ᆱ
      "ㄼ": "\u11B2"  # ᆲ
      "ㄽ": "\u11B3"  # ᆳ
      "ㄾ": "\u11B4"  # ᆴ
      "ㄿ": "\u11B5"  # ᆵ
      "ㅁ": "\u11B7"  # ᆷ
      "ㅂ": "\u11B8"  # ᆸ
      "ㅄ": "\u11B9"  # ᆹ
      "ㅅ": "\u11BA"  # ᆺ
      "ㅆ": "\u11BB"  # ᆻ
      "ㅇ": "\u11BC"  # ᆼ
      "ㅈ": "\u11BD"  # ᆽ
      "ㅊ": "\u11BE"  # ᆾ
      "ㅋ": "\u11BF"  # ᆿ
      "ㅌ": "\u11C0"  # ᇀ
      "ㅍ": "\u11C1"  # ᇁ
      "ㅎ": "\u11C2"  # ᇂ
      # 표준 종성이 아닌 것들
      "ㄸ": "\u11AE\u11AE"  # ᆮᆮ
      "ㅃ": "\u11B8\u11B8"  # ᆸᆸ
      "ㅉ": "\u11BD\u11BD"  # ᆽᆽ
      # 중간 상태
      "ㄴㅅ": "\u11AB\u11BA"  # ᆫᆺ
      "ㄹㅇ": "\u11AF\u11BC"  # ᆯᆼ
      "ㄹㄷ": "\u11AF\u11AE"  # ᆯᆮ
  
  dokkaebibul:
    jungseongTransitions:
      # 표준 도깨비불 분리
      - { jongseong: "ㄳ", remaining: "ㄱ", moved: "ㅅ" }
      - { jongseong: "ㄵ", remaining: "ㄴ", moved: "ㅈ" }
      - { jongseong: "ㅀ", remaining: "ㄴ", moved: "ㅎ" }
      - { jongseong: "ㄺ", remaining: "ㄹ", moved: "ㄱ" }
      - { jongseong: "ㄻ", remaining: "ㄹ", moved: "ㅁ" }
      - { jongseong: "ㄼ", remaining: "ㄹ", moved: "ㅂ" }
      - { jongseong: "ㄽ", remaining: "ㄹ", moved: "ㅅ" }
      - { jongseong: "ㄾ", remaining: "ㄹ", moved: "ㅌ" }
      - { jongseong: "ㄿ", remaining: "ㄹ", moved: "ㅍ" }
      - { jongseong: "ㅄ", remaining: "ㅂ", moved: "ㅅ" }
      
      # 천지인 중간 상태
      - { jongseong: "ㄴㅅ", remaining: "ㄴ", moved: "ㅅ" }
      - { jongseong: "ㄹㅇ", remaining: "ㄹ", moved: "ㅇ" }
      - { jongseong: "ㄹㄷ", remaining: "ㄹ", moved: "ㄷ" }
      - { jongseong: "ㄸ", remaining: "ㄷ", moved: "ㄷ" }
      - { jongseong: "ㅃ", remaining: "ㅂ", moved: "ㅂ" }
      - { jongseong: "ㅉ", remaining: "ㅈ", moved: "ㅈ" }
      
      # 단일 자음
      - { jongseong: "ㄱ", remaining: null, moved: "ㄱ" }
      - { jongseong: "ㄴ", remaining: null, moved: "ㄴ" }
      - { jongseong: "ㄷ", remaining: null, moved: "ㄷ" }
      - { jongseong: "ㄹ", remaining: null, moved: "ㄹ" }
      - { jongseong: "ㅁ", remaining: null, moved: "ㅁ" }
      - { jongseong: "ㅂ", remaining: null, moved: "ㅂ" }
      - { jongseong: "ㅅ", remaining: null, moved: "ㅅ" }
      - { jongseong: "ㅇ", remaining: null, moved: "ㅇ" }
      - { jongseong: "ㅈ", remaining: null, moved: "ㅈ" }
      - { jongseong: "ㅊ", remaining: null, moved: "ㅊ" }
      - { jongseong: "ㅋ", remaining: null, moved: "ㅋ" }
      - { jongseong: "ㅌ", remaining: null, moved: "ㅌ" }
      - { jongseong: "ㅍ", remaining: null, moved: "ㅍ" }
      - { jongseong: "ㅎ", remaining: null, moved: "ㅎ" }
      - { jongseong: "ㄲ", remaining: null, moved: "ㄲ" }
      - { jongseong: "ㅆ", remaining: null, moved: "ㅆ" }
  
  backspace:
    transitions:
      # 중성 백스페이스
      - { from: "ᆢ", to: "ㆍ" }
      - { from: "ㅏ", to: "ㅣ" }
      - { from: "ㅑ", to: "ㅏ" }
      - { from: "ㅓ", to: "ㆍ" }
      - { from: "ㅕ", to: "ᆢ" }
      - { from: "ㅗ", to: "ㆍ" }
      - { from: "ㅛ", to: "ᆢ" }
      - { from: "ㅜ", to: "ㅡ" }
      - { from: "ㅠ", to: "ㅜ" }
      - { from: "ㅐ", to: "ㅏ" }
      - { from: "ㅒ", to: "ㅑ" }
      - { from: "ㅔ", to: "ㅓ" }
      - { from: "ㅖ", to: "ㅕ" }
      - { from: "ㅚ", to: "ㅗ" }
      - { from: "ㅘ", to: "ㅚ" }
      - { from: "ㅙ", to: "ㅘ" }
      - { from: "ㅝ", to: "ㅠ" }
      - { from: "ㅞ", to: "ㅝ" }
      - { from: "ㅟ", to: "ㅜ" }
      - { from: "ㅢ", to: "ㅡ" }
      
      # 종성 백스페이스
      - { from: "ㄳ", to: "ㄱ" }
      - { from: "ㄵ", to: "ㄴ" }
      - { from: "ㄶ", to: "ㄴㅅ" }
      - { from: "ㄴㅅ", to: "ㄴ" }
      - { from: "ㄺ", to: "ㄹ" }
      - { from: "ㄻ", to: "ㄹㅇ" }
      - { from: "ㄹㅇ", to: "ㄹ" }
      - { from: "ㄼ", to: "ㄹ" }
      - { from: "ㄽ", to: "ㄹ" }
      - { from: "ㄾ", to: "ㄹㄷ" }
      - { from: "ㄹㄷ", to: "ㄹ" }
      - { from: "ㄿ", to: "ㄼ" }
      - { from: "ㅀ", to: "ㄽ" }
      - { from: "ㅄ", to: "ㅂ" }
  
  nonJamo:
    transitions:
      - { from: "", input: ".,?!", to: "." }
      - { from: ".", input: ".,?!", to: "," }
      - { from: ",", input: ".,?!", to: "?" }
      - { from: "?", input: ".,?!", to: "!" }
    
    display:
      ".": "."
      ",": ","
      "?": "?"
      "!": "!"